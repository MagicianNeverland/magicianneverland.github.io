---
layout: post
title: "Ubuntu 16.04到18.04系统升级"
description: "系统升级中踩坑以及解决"
categories: [Tech]
tags: [linux, ubuntu]
redirect_from:
  - /2020/09/28/
---

* Kramdown table of contents
{:toc .toc}

# 解决登录循环问题

系统升级之后重启，新的登录界面，然后糟心的事情出现了……明明用户名密码都正确，结果屏幕闪一下，又回到登录界面

救命……于是赶紧查了查看主流解决方法都有什么

这个问题主流解释的原因跟显卡有关，而且发生状况正好跟我的PC机子相吻合。就是主板Intel集显，然后用的是Nvidia的独立显卡

进一步解释就是，这个系统认不得我的显卡了。

那正常解决方法一般来说应该有两个。第一是更新系统内核，内核够新，或许就能认得显卡。第二个方法是更新显卡驱动，让显卡这边主动帮助系统去认识它。

## 解决登录问题

既然图形界面进不去，至少也得用命令行操作吧

参考此条的step1部分[如何解决Ubuntu18.04循环登录/卡在开机界面/无法进入图形界面的问题](https://www.jb51.net/article/187465.htm)

简单来说，就是在登录Ubuntu系统的引导页面，第一行`*Ubuntu`的地方按`e`进入编辑模式。出现的编辑项里，到倒数第二行末尾找到`handoff`在后面添加数字3，变成`handoff 3`，也就是多用户纯文本模式。

再按`ctrl+x`就可以进入命令行模式。用自己的用户名密码登录即可操作后续。

## 查看内核版本

查看内核版本`uname -r`

普遍认为4.15的内核就可以了，验证了一下没问题

## 解决显卡驱动问题

有些简单卸载重装指令并不是太好用，例如下面这个

{% highlight shell %}

sudo apt-get remove nvidia-*

sudo apt-get autoremove

{% endhighlight %}
